# SonarCloud Project Configuration

# Project identification
sonar.projectKey=levantar-ai_mcp-sysinfo
sonar.organization=levantar-ai

# Project information
sonar.projectName=MCP System Info
sonar.projectDescription=Read-only MCP server providing structured system state access for AI diagnostics

# Source code configuration
sonar.sources=.
sonar.sourceEncoding=UTF-8

# Exclusions - exclude test files from analysis
sonar.exclusions=\
  **/*_test.go,\
  **/test/**,\
  **/tests/**,\
  **/coverage/**,\
  **/.git/**,\
  **/dist/**,\
  **/vendor/**,\
  **/coverage.out,\
  **/coverage.html

# Test files (for coverage calculation but not quality analysis)
sonar.test.exclusions=\
  **/*_test.go

# Language-specific configurations
sonar.go.coverage.reportPaths=coverage.out

# Code duplication settings
sonar.cpd.go.minimumLines=25
sonar.cpd.go.minimumTokens=100

# Disable analysis of generated or temporary files
# Exclude from coverage:
# - Windows-only code (can't be tested on Linux CI)
# - CLI main functions (integration tested, not unit tested)
# - MCP infrastructure (HTTP/OIDC require external dependencies)
# - Tool registration (wiring code, integration tested via smoke tests)
sonar.coverage.exclusions=\
  **/*_test.go,\
  **/test/**,\
  **/*_windows.go,\
  **/cmd/**/main.go,\
  **/internal/mcp/http.go,\
  **/internal/mcp/oidc.go,\
  **/internal/mcp/tools.go

# Exclude Windows-only code from duplication analysis (platform-specific implementations)
sonar.cpd.exclusions=\
  **/*_windows.go,\
  **/*_darwin.go,\
  **/*_linux.go
